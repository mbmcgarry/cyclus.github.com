

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to Review Pull Requests &mdash; Home</title>
    
    <link rel="stylesheet" href="../_static/cyclus.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '(1.2.0-175-g261bed2)',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/cloud.js"></script>
    <link rel="shortcut icon" href="../_static/big_c.ico"/>
    <link rel="top" title="Home" href="../index.html" />
    <link rel="up" title="Cyclus Kernel Developer Guide" href="index.html" />
    <link rel="next" title="Building Cyclus With Conda" href="build_with_conda.html" />
    <link rel="prev" title="Contributing to Cyclus" href="contributing_to_cyclus.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1"><script type="text/javascript">
var ga_enabled = !$.cookie('disable-ga');
if(ga_enabled){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12222727-2']);
  _gaq.push(['_setCookiePath', '/']);
  _gaq.push(['_setDetectFlash', false]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}
</script>
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="build_with_conda.html" title="Building Cyclus With Conda"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="contributing_to_cyclus.html" title="Guide to Contributing to Cyclus"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
	<li><a href="../index.html">Home</a> &raquo;</li>
	
        <li><a href="index.html" accesskey="U"><span style="font-variant:small-caps;">Cyclus</span> Kernel Developer Guide</a> &raquo;</li> 
      </ul>
    </div>
    </div>
    
    
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
<div class="section" id="reviewing-pull-requests">
  <h1>Reviewing Pull Requests<a class="headerlink" href="#reviewing-pull-requests" title="Permalink to this headline">¶</a></h1>
  <p><span style="font-variant:small-caps;">Cyclus</span> depends on a community of contributors.  Bug fixes and new features (and archetypes!) are added by submitting a pull request on github.  The new code is then reviewed by by other <span style="font-variant:small-caps;">Cyclus</span> developers to confirm that the code meets all requirements for style and stability before being added to the code base.  You do not need to be an expert <span style="font-variant:small-caps;">Cyclus</span> developer to contribute by reviewing pull requests! In fact, reviewing other people's code is a great way to learn the code base! Below we offer a rough guide to how to review a pull request.</p>
</div>

<div class="section" id="collegial-atmosphere">
  <h2>Maintaining a Collegial Atmosphere<a class="headerlink" href="#collegial-atmosphere" title="Permalink to this headline">¶</a></h2>
  <p>A collegial (as opposed to an adversarial) atmosphere is critical to the success of an open-source software project.  Imagine how it would be feel for a new person to appear out of the blue wanting to contribute to Cyclus. Let’s not drive them away!</p>
  <blockquote>
    <div><ul>
	<li><p class="first">Contributing should all be rainbows and butterflies (only positive interactions)</p></li>
	<li><p class="first">Thank people for contributing</p></li>
	<li><p class="first">Timely feedback engenders enthusiasm and future contributions</p></li>
	<li><p class="first">There is no need for adversarial comments, even (especially) when there is disagreement</p></li>
	<li><p class="first">We never know who may be lurking and thinking about contributing in the future</p></li>
	<li><p class="first">To understand what makes good and bad communities, follow or contribute to other open-source projects</p></li>
    </ul></div>
  </blockquote>
</div>

<div class="section" id="pre-review">
  <h2>Should I Review This Pull Request (PR)?<a class="headerlink" href="#pre-review" title="Permalink to this headline">¶</a></h2>
  <p>Am I ready to do a review on my own?</p>
  <blockquote>
    <div><ul>
	<li><p class="first">It’s ok for multiple people to review PRs, so don’t feel like you can’t review if someone else already is.</p></li>
	<li><p class="first">Do not expect that someone else will re-review YOUR review.  Take responsibility for your reviewing.</p></li>
	<li><p class="first">If you are not 100% comfortable, then complete your review and say “I have completed my review and will merge this in 2 days if there are no further comments.” This gives more experienced reviewers the opportunity to look at it if they choose to.</p></li>
	<li><p class="first">  A good exercise for learning your way around the codebase is to start from cyclus.cc and follow the trail of code execution as a simulation is initialized and executed - to get a rough sort of callgraph in your head.</p></li>
    </ul></div>
  </blockquote>
  
  <p>How do I feel about the purpose of this PR?</p>
  <blockquote>
    <div><ul>
	<li><p class="first">I like it/am interested: Do the review</p></li>
	<li><p class="first">Don’t care: Still do the review</p></li>
	<li><p class="first">I dislike it/disagree with it:  Initiate a broader discussion about whether the PR is appropriate</p></li>
    </ul></div>
  </blockquote>
</div>

<div class="section" id="starting-reviews">
  <h2>Start Reviews by Looking for Hard Stops<a class="headerlink" href="#starting-reviews" title="Permalink to this headline">¶</a></h2>
  <p>Start a review with the obvious stuff, so that if there are major problems then the coder can fix them before you do the detailed reveiw</p>
  <blockquote>
    <div><ul>
	<li><p class="first">Does it pass CI?</p></li>
	<li><p class="first">Does it build and pass tests on my machine? (ie. nosetests, cyclus_unit_tests, run_inputs.py)</p></li>
	<li><p class="first">Have new unit tests been added to confirm the functionality of the proposed change? </p></li>
	<li><p class="first">Does it pass the style guide?</p></li>
	<li><p class="first">Is there documentation explaining the new features? (Sometimes documentation will need to be added to both the code itself and the cyclus website, especially in the case of new tools for developers to use. Then you should expect to see two pull requests.)</p></li>
	<li><p class="first">From the documentation and the API, or from just the new tests, do I understand what is going on?</p></li>
    </ul></div>
  </blockquote>
  
  <p>Do I understand why this PR is being added?</p>
  <blockquote>
    <div><ul>
	<li><p class="first">If there is ANY part of the code you do not understand, do NOT merge it!</p></li>
	<li><p class="first">Instead, use the API to figure out what the code is doing</p></li>
	<li><p class="first">Never assume the person who opened the PR knew what they were doing</p></li>
	<li><p class="first">If you still can’t figure it out - put inline comment to ask why it is done this way</p></li>
	<li><p class="first">Fixing bugs should always take precedence over adding features</p></li>
	<li><p class="first">Feature PRs should have a much higher standard to be merged</p></li>
    </ul></div>
  </blockquote>
</div>

<div class="section" id="the-details">
  <h2>Getting Into The Details<a class="headerlink" href="#the-details" title="Permalink to this headline">¶</a></h2>
  <p>Does the general use case for this PR match its API and implementation?</p>
  <blockquote>
    <div><ul>
	<li><p class="first">Imagine there are two approaches to solving the problem: if option A was chosen, what was option B and why is A the preferred option.  The chosen option should balance performance with the use-case most likely to come up.</p></li>
	<li><p class="first">For example, bitwise operations are very confusing (but are very fast).  If you don’t need it for performance, readability and clarity are more important.</p></li>
	<li><p class="first">The majority of the Cyclus code base should be easier to read/maintain rather than faster in the absence of concrete need for speed.</p></li>
    </ul></div>
  </blockquote>
  
  <p>Is there sufficient test coverage (more than just "are there tests")?</p>
  <blockquote>
    <div><ul>
	<li><p class="first">Start with tests - if there are insufficient tests then you should not do the code review until the tests are added.</p></li>
	<li><p class="first">If there are enough tests then they can show the reviewer what the goal of the PR is.</p></li>
	<li><p class="first">In most cases, every line of code should be tested (except for test code, which would be infinitely recursive), but not necessarily every code pathway (not every combination must be tested).</p></li>
	<li><p class="first">If there is a conditional code, there should be tests for both outcomes of the conditional.</p></li>
	<li><p class="first">If there are very obscure corner-case tests that are missing, do not close the pull request. </p></li>     
    </ul></div>
  </blockquote>
  
  <p>Is there a reasonable use case that would fail given the provided implementation?</p>
  <blockquote>
    <div><ul>
	<li><p class="first">Make sure you can’t think of a way to make the code fail. If you can, there needs to be a test for this, and there likely needs to be a code modification.</p></li>
	<li><p class="first">This is most likely to occur in a PR with very few tests (writing the tests naturally help the coder to identify many of these cases).</p></li>
    </ul></div>
  </blockquote>
  
  <p> Is the code implemented cleanly? </p>
  <blockquote>
    <div><ul>
	<li><p class="first">Are there "easy" optimizations (e.g. variable allocation outside of a well-used loop)?</p></li>
	<li><p class="first">Are the data structures you’re using the right ones?</p></li>
	<li><p class="first">If you have a list or a vector where all elements must be unique, then a set is the right data structure.</p></li>
	<li><p class="first">But if you’re using a dataset that must remain ordered, then DON’T use a set.</p></li>
	<li><p class="first">For loops vs while loops.</p></li>
	<li><p class="first">Premature optimization is not always good (you don’t know apriori where the sticking points will be.</p></li>
	<li><p class="first">Optimization often reduces maintainability.</p></li>
    </ul></div>
  </blockquote>
</div>

<div class="section" id="best-practices">
  <h2>More Best Practices<a class="headerlink" href="#best-practices" title="Permalink to this headline">¶</a></h2>
  <p>Cover the full gamut of software carpentry best practices. And remember:</p>
  <blockquote>
    <div><ul>
	<li><p class="first">Style Guide adherence is not a personal critique.  It is designed to keep code maintainable.  Don’t be offended.  Everyone hates something in the style guide, but a common standard is necessary.</p></li>
	<li><p class="first">Google C++ style guide says Never Abbreviate. Cyclus has been historically bad at this point, but try to not add new abbreviations. (ie. ‘rsrc’ is an accepted abbreviation for ‘resource’)</p></li>
	<li><p class="first">Is there sufficient documentation?</p></li>
	<li><p class="first">If not, then do not merge it.</p></li>
    </ul></div>
  </blockquote>
  
  <p>Remember, if there is <em>anything</em> in the pull request that you don't understand, don't merge it!  Educate yourself, ask questions, or ask the coder to explain.</p>
</div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../index.html" title="index">
          <img class="logo" src="../_static/big_c.png" alt="Logo"/>
        </a></p><div class="sphinxlocaltoc">
    <h3><a href="../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">How to Review Pull Requests</a><ul>
<li><a class="reference internal" href="#collegial-atmosphere">Maintaining a Collegial Atmosphere</a></li>
<li><a class="reference internal" href="#pre-review">Should I Review This Pull Request?</a></li>
<li><a class="reference internal" href="#starting-reviews">Start Reviews By Looking For Hard Stops</a></li>
<li><a class="reference internal" href="#the-details">Getting Into The Details</a></li>
<li><a class="reference internal" href="#best-practices">More Best Practices</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="contributing_to_cyclus.html"
                          title="Previous page">&larr; Contributing to <span style="font-variant:small-caps;">Cyclus</span></a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="build_with_conda.html"
                          title="Next page">&rarr; Building <span style="font-variant:small-caps;">Cyclus</span> With Conda</a></p>
  </div>
  <div class="sphinxlocaltoc">
  <h3>Useful Pages</h3>
    <ul><li><ul>
    <li><a href="http://fuelcycle.org/user/index.html">User Guide</a></li>
    <li><a href="http://fuelcycle.org/arche/index.html">Archetype Developer Guide</a></li>
    <li><a href="http://fuelcycle.org/cyclus/api/">Cyclus API Documentation</a></li>
    <li><a href="http://fuelcycle.org/cycamore/api/">Cycamore API Documentation</a></li>
    <li><a href="http://fuelcycle.org/basics/glossary.html">Glossary</a></li>
    <li><a href="mailto:cyclus-users+subscribe@googlegroups.com?subject=Subscribe&body=Send this message to subscribe to the list">Join</a> the 
      <a href="https://groups.google.com/forum/#!forum/cyclus-users" target="_blank"><span style="font-variant:small-caps">Cyclus</span> Users</a> mailing list.
    <li><a href="mailto:cyclus-dev+subscribe@googlegroups.com?subject=Subscribe&body=Send this message to subscribe to the list">Join</a> the 
      <a href="https://groups.google.com/forum/#!forum/cyclus-users" target="_blank"><span style="font-variant:small-caps">Cyclus</span> Developers</a> mailing list.
    </ul></li></ul>
  </div>
    
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
    <h3>Get Cyclus</h3>
    <br>
    Current version: <b>1.2.0</b>
    <br><br>
    Install:
    <div class="highlight-bash" style="width:97.5%"><div class="highlight"><pre><span class="nv">$ </span>conda install cyclus cycamore</pre></div></div>
    Get the Source:
    <ul><li><ul>
          <li><a href="https://github.com/cyclus/cyclus">Cyclus</a></li>
          <li><a href="https://github.com/cyclus/cycamore">Cycamore</a></li>
    </ul></li></ul>
    <h3>Acknowledgements</h3>
    The Cyclus project has received support from:
    <br />
    <a href="http://www.neup.gov" target="_blank"><img src="../_static/neup_logo_large.png" width=170px></a>
    <br />
    <br />

    In addition, some of the students working on Cyclus have received support from:
    <br />
    <a href="http://www.anl.gov" target="_blank"><img src="../_static/AnlLogo.png" height=100px></a>
    <a href="http://www.nrc.gov" target="_blank"><img src="../_static/USNRC.png" height=100px></a>
    <br />
    <a href="http://www.neup.gov" target="_blank"><img src="../_static/neup_logo_large.png" width=170px></a>
    <br />
    <a href="http://www.nsf.gov" target="_blank"><img src="../_static/nsf_logo.png" height=100px></a>
    <a href="http://www.wisc.edu" target="_blank"><img src="../_static/crest.png" height=100px></a>

    

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="build_with_conda.html" title="Building Cyclus With Conda"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="contributing_to_cyclus.html" title="Guide to Contributing to Cyclus"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">Home</a> &raquo;</li>

          <li><a href="index.html" ><span style="font-variant:small-caps;">Cyclus</span> Kernel Developer Guide</a> &raquo;</li> 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; Copyright 2012-2014, University of Wisconsin Computational Nuclear Engineering Research Group.
      Last updated on Apr 01, 2015.
    </div><script type="text/javascript">
    if(ga_enabled){
        document.write("<div class=\"footer\">This page uses <a href=\"http://analytics.google.com\">Google Analytics</a> to collect statistics. ");
        document.write("Click <button title=\"set cookie to disable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', 'true', {expires: 3650, path: '/'}); window.location.reload(); return false; \">here</button> to disable analytics for this site.");
        document.write("</div>");
    }else{
        document.write("<div class=\"footer\">Google Analytics has been disabled. ");
        document.write("Click <button title=\"set cookie to re-enable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', null, {path: '/'}); window.location.reload(); return false; \">here</button> to re-enable analytics for this site.");
    };
</script>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>